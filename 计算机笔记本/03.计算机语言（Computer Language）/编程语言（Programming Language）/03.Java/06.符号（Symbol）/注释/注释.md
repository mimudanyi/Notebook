# 注释

## 第一种：单行注释

```java
//注释
```

## 第二种：多行注释

```java
/*
注释
*/
```

## 第三种：文档注释

Java Doc Comments

是专门为了用javadoc工具自动生成文档而写的注释，它是一种带有特殊功能的注释。可以使用 javadoc 工具软件来生成信息，并输出到HTML文件中。文档注释只负责描述类（class）、接口（interface）、方法（method）、构造器（constructor）、成员字段（field）。相应地，文档注释必须写在类、接口、方法、构造器、成员字段前面，而写在其他位置，比如函数内部，是无效的文档注释。文档注释采用HTML语法规则书写，支持HTML标记（tag）。

javadoc不会提取内部类的文档注释，所以如果想要在最终生成的文档中包含内部类的信息，方法就是——写在外部类的文档注释里。

```java
/**
*描述部分（Description）
*
*标记部分（Block Tags）
*/
```

### 描述部分

描述部分的第一行应该是一句对类、接口、方法等的简单描述，这句话最后会被javadoc工具提取并放在索引目录中。怎么界定第一句话到哪结束了呢？答案是跟在第一个句号（英文标点）之后的tab、空行或行终结符规定了第一句的结尾。例如下面这句注释，第一句的结尾是Prof.：

```java
/**
*This is a simulation of Prof. Knuth's MIX computer.
*/
```

描述部分可以使用：

- HTML语法标签，例如 <b>xxx</b>
- javadoc规定的特殊标签，例如 {@link xxx} 。标签的语法规则是：{@标签名 标签内容}

## 描述部分

描述部分的第一行应该是一句对类、接口、方法等的简单描述，这句话最后会被javadoc工具提取并放在索引目录中。怎么界定第一句话到哪结束了呢？答案是跟在第一个句号（英文标点）之后的tab、空行或行终结符规定了第一句的结尾。例如下面这句注释，第一句的结尾是Prof.：

```java
/**
*This is a simulation of Prof. Knuth's MIX computer.
*/
```

描述部分可以使用：

- HTML语法标签，例如 <b>xxx</b>
- javadoc规定的特殊标签，例如 {@link xxx} 。标签的语法规则是：{@标签名 标签内容}

### 标记部分

按照如下顺序提供标记：

- @author（只出现在类和接口的文档中）
- @version（只出现在类和接口的文档中）
- @param（只出现在方法或构造器的文档中）
- @return（只出现在方法中）
- @exception（从java1.2之后也可以使用@thrown替代）
- @see
- @since
- @serial（也可以使用@serialField或@serialData替代）
- @deprecated

**如果有多个相同标记，顺序为：**

- 多个@author标记，应该按照时间顺序排列，即原作者应该排在第一个位置
- 多个@param标记，应该按照参数定义的顺序排列
- 多个@exception（或是@thrown）应该按照异常的字母顺序排列
- 多个@see标记，应该按照注释的逻辑顺序排列，即从最近的到最远的，从最具体的到最一般的

**必须包含的标记**

- 如果方法有参数，@param标记必须包含，而且每个对应一个参数
- 如果方法有返回值，@return标记必须包含

## 注意

- 在描述段落和标记段落之间空一行，描述段落和标记段落必须分开，不能揉在一起，描述段落必须在标记段落之前
- 每一行注释都应该跟后面描述的类、方法等保持同样距离的缩进
- 标签在有javadoc工具生成文档时会转化成特殊的内容，比如 {@link URL} 标签会被转化成指向URL类的超链接
- 如果注释包含多段内容，段与段之间需要用 <p> 分隔，空行是没用的
- 最后结尾行 */ 和起始行不同，这里只有一个星号
- 为了避免一行过长影响阅读效果，务必将每行的长度限制在80个字符以内
- 善用javadoc工具的复制机制避免不必要的注释：
- 如果一个方法覆盖了父类的方法或实现了接口种的方法，那么javadoc工具会在该注释里添加指向原始方法的链接，此外如果新方法没有注释，那么javadoc会把原始方法的注释复制一份作为其注释，但是如果新方法有注释了，就不会复制了。
- 从javadoc 1.4之后，除第一行和最后一行外，可以省略其他行的前导星号(*)，但是一般不这么做。
- 使用 <code>关键字</code> 来强调关键字，建议强调的内容有：java关键字、包名、类名、方法名、接口名、字段名、参数名等
- 控制 {@link xxx} 的数量，太多的链接会使文档的可读性很差，因为读者总是跳来跳去。不要出现相同的链接，同样的链接只保留第一个；不要为java自带的内容或是常识性的内容提供链接
- 描述一个方法时，应当只保留方法名字，不要附带方法的参数。比如有个方法是add(Object obj)，那么用add指代该方法即可，而不是add(Object obj)
- 英文注释可以是短语也可以是句子。如果是句子，首字母要大写，如果是短语，首字母小写。
- 英文注释使用第三人称，而不是第二人称。比如：

```java
/**Gets the label(建议)
/
/**
Get the label(不建议)
/
```

- 方法的注释应该以动词或动词词组开头，因为方法是一个动作。比如：

```java
/**
Gets the label of this button(建议)
/
/**
This method gets the label(不建议)
/
```

- 当描述类、接口、方法这类的概念时，可以不用指名"类"、"接口"、"方法"这些词语，比如：

```java
/**
A button label (建议)
/
/**
This field is a button label (不建议)
/
```

- 英文使用this而不是the指代当前类，比如：

```java
/**
Gets the toolkit for this component (建议)
/
/**
Gets the toolkit for the component (不建议)
/
```

- API名应该是能够简单自我说明的，如果文档注释只是简单重复API的名称还不如没有文档，所以文档注释应该至少提供一些额外信息，否则干脆不要注释
- 1. 英文注释避免拉丁风格的缩写。比如使用"also knwon as"而不是"aka"， 使用"that is"或"to be specific"而不是"i.e."，使用"for example"而不是"e.g."，使用"in other words"或"namely"而不是"viz."